<h1><?php echo $this->showName() ?></h1>

<?php if (!$this->isEditMode()) { ?>

<?php if ($this->hasPermission('publisher_edit')) { ?>
<p><a href="<?php echo $this->showLinkToSelf('edit') ?>">Edit publisher</a></p>
<?php } ?>

<p>Showing all publications of the publisher <b><?php echo $this->showName() ?>.</b></p>

<h2>Publications</h2>
<ul>
	<?php echo $this->showPublications() ?>
</ul>
<p class="notice">This list may be incomplete. <a href="#">Find out why.</a></p>


<?php } else { ?>
<p><a href="<?php echo $this->showLinkToSelf() ?>">Back to publisher page</a></p>
<h2>Edit this publisher</h2>
<div class="form">
	<form action="#" method="post" accept-charset="utf-8">
		<label for="name">Name:</label>
		<input type="text" name="name" id="name" value="<?php echo $this->showName() ?>"/>
		<br/>
		<input type="hidden" name="action" value="edit"/>
		<input type="submit" value="Update"/>
		<input type="reset" value="Reset changes"/>
	</form>
</div>
<br/>
<h2>Delete this publisher</h2>
<?php if ($this->showPublicationsNum() > 0) { ?>
<p>You cannot delete this publisher because there are publications assigned.</p>

<?php } else { ?>
<p>This will try to delete this publisher. It will fail if there are any publications assigned to this publisher.</p>
<form action="#" method="post" accept-charset="utf-8">
	<input type="checkbox" name="delete" id="delete" value="yes"/>
	<label for="delete">Delete the publisher <b><?php echo $this->showName() ?></b></label>
	<br/>
	<input type="hidden" name="action" value="delete"/>
	<input type="submit" value="Delete">
</form>
<?php } ?>
<?php } ?>
